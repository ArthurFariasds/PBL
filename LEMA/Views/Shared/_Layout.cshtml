<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/login.css" />
    <link rel="stylesheet" href="~/css/menu.css">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.9/css/unicons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/menu.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
</head>
<body>
    @if (ViewBag.Logado)
    {
        <div class="sidebar">
            <div class="logo-details">
                <a href="/Home/Index">
                    <img class="icon" src="~/img/LogoPNG.png" alt="Logo">
                </a>
                <i class='bx bx-menu' id="btn"></i>
            </div>

            <ul class="nav-list">
                <li>
                    <a href="/Home/Index">
                        <i class='bx bxs-home'></i>
                        <span class="links_name">Home</span>
                    </a>
                    <span class="tooltip">Home</span>
                </li>
                <li>
                    <a href="/Dashboard/Index">
                        <i class='bx bx-station'></i>
                        <span class="links_name">Real-Time</span>
                    </a>
                    <span class="tooltip">Real-Time</span>
                </li>
                <li>
                    <a href="/Dashboard/Historico">
                        <i class='bx bx-history'></i>
                        <span class="links_name">Histórico</span>
                    </a>
                    <span class="tooltip">Histórico</span>
                </li>
                <li>
                    <a href="~/Dispositivo/Index">
                        <i class='bx bx-sitemap'></i>
                        <span class="links_name">Dispositivo</span>
                    </a>
                    <span class="tooltip">Dispositivo</span>
                </li>
                <li>
                    <a href="/Sobre/Index">
                        <i class='bx bxs-bulb'></i>
                        <span class="links_name">Sobre</span>
                    </a>
                    <span class="tooltip">Sobre</span>
                </li>
                @if (ViewBag.Perfil == "Administrador")
                {
                    <li>
                        <a href="/Usuario/Index">
                            <i class='bx bxs-user-account'></i>
                            <span class="links_name">Registros</span>
                        </a>
                        <span class="tooltip">Registros</span>
                    </li>
                    <li>
                        <a href="/Empresa/Index">
                            <i class='bx bxs-buildings'></i>
                            <span class="links_name">Empresas</span>
                        </a>
                        <span class="tooltip">Empresas</span>
                    </li>

                }
                <li class="profile">
                    <div class="profile-details">
                        <a href="/usuario/edit?id=@ViewBag.IdUsuario" class="bx bx-edit"></a>

                        @if (string.IsNullOrEmpty(ViewBag.Imagem64))
                        {
                            <img src="~/img/Profile-Icon.png" alt="Foto">
                        }
                        else
                        {
                            <img src="data:image/jpeg;base64,@ViewBag.Imagem64" alt="Foto" />
                        }
                        <div class="name_job">
                            <div class="name">@ViewBag.Username</div>
                            <div class="job">@ViewBag.NomeEmpresa</div>
                        </div>
                    </div>
                    <a onclick="menu.confirma()">
                        <i class='bx bx-log-out' id="log_out"></i>
                    </a>
                </li>
            </ul>
        </div>
    }

    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <div class="logout">
        <dialog id="logoutModal" style="padding: 80px;">
            <div class="text" style="font-size: 25px !important;">Deseja realmente sair?</div>
            <br />
            <div>
                <a class="btn" href="#" onclick="document.getElementById('logoutModal').close();" style="color: darkred; margin-right:15px;">Cancelar</a>
                <a class="btn" href="/Login/Logout">Confirmar</a>
            </div>
        </dialog>
    </div>
</body>
</html>
